/*!
 * zx-editor version 3.1.0
 * Author: capricorncd
 * Released under the MIT License
 * Repository: https://github.com/capricorncd/zx-editor
 * Released on: 2022-06-19 23:07:34 (GMT+0900)
 * Copyright © 2018-present, capricorncd
 */
(function(h,c){typeof exports=="object"&&typeof module!="undefined"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(h=typeof globalThis!="undefined"?globalThis:h||self,c(h.ZxEditor={}))})(this,function(h){"use strict";var Le=Object.defineProperty,Ce=Object.defineProperties;var Ie=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var H=(h,c,y)=>c in h?Le(h,c,{enumerable:!0,configurable:!0,writable:!0,value:y}):h[c]=y,m=(h,c)=>{for(var y in c||(c={}))De.call(c,y)&&H(h,y,c[y]);if(te)for(var y of te(c))Ae.call(c,y)&&H(h,y,c[y]);return h},Y=(h,c)=>Ce(h,Ie(c));var a=(h,c,y)=>(H(h,typeof c!="symbol"?c+"":c,y),y);class c{constructor(){a(this,"eventList");this.eventList={}}on(r,e){!r||!e||typeof e!="function"||(this.eventList[r]||(this.eventList[r]=[]),this.eventList[r].push(e))}emit(r,...e){const i=this.eventList[r];if(!!i)for(let n=0;n<i.length;n++)try{i[n].apply(null,e)}catch(o){this.emit("error",o,"emit")}}off(r,e){if(!this.eventList[r])return;const i=this.eventList[r];if(typeof e=="function"){const n=i.findIndex(o=>o===e);n>=0&&i.splice(n,1)}else this.eventList[r].length=0;this._removeEmpty(r)}_removeEmpty(r){this.eventList[r].length||delete this.eventList[r]}destroyEventEmitter(){Object.keys(this.eventList).forEach(r=>this.off(r))}}/*!
 * zx-sml version 0.1.1
 * Author: Capricorncd <capricorncd@qq.com>
 * Repository: https://github.com/capricorncd/zx-sml
 * Released on: 2022-06-19 23:05:31 (GMT+0900)
 */var y=Object.defineProperty,k=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,R=(t,r,e)=>r in t?y(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,B=(t,r)=>{for(var e in r||(r={}))re.call(r,e)&&R(t,e,r[e]);if(k)for(var e of k(r))ie.call(r,e)&&R(t,e,r[e]);return t};function oe(t){return Array.isArray(t)}function P(t){return t!==null&&!oe(t)&&typeof t=="object"}var ne=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I={exports:{}};/*! For license information please see date-utils-2020.js.LICENSE.txt */(function(t,r){(function(e,i){t.exports=i()})(typeof self!="undefined"?self:ne,function(){return(()=>{var e={949:(n,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toTwoDigits=void 0,o.toTwoDigits=function(s){return s[1]?s:"0"+s}},607:(n,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toTwoDigits=o.toDate=o.formatDate=void 0;var x=s(949);Object.defineProperty(o,"toTwoDigits",{enumerable:!0,get:function(){return x.toTwoDigits}});var w={weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function f(d){if(d instanceof Date)return d;if(typeof d=="number")return new Date(d);if(typeof d=="string"){var l=d.trim();if(/^\d+$/.test(l)){var g=l.length;return g===8?new Date([l.substr(0,4),l.substr(4,2),l.substr(6,2)].join("/")):g===6?new Date([l.substr(0,4),l.substr(4,2),"01"].join("/")):g===4?new Date(l+"/01/01"):new Date(parseInt(d))}if(l=l.replace(/[年月日]/g,function(p){return p==="\u65E5"?"":"/"}).replace(/[(（（].*?[)））]/g," ").replace(/\bam|pm\b/gi," ").replace(/\s+/g," "),/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/.test(l))return new Date([RegExp.$1,RegExp.$2,RegExp.$3].join("/"));if(/^(\d{4})[-/](\d{1,2})$/.test(l))return new Date([RegExp.$1,RegExp.$2,"01"].join("/"));var b=new Date(l);return isNaN(b.getFullYear())?null:b}return null}o.formatDate=function(d,l,g){var b,p=f(d);if(!p||!l)return d+"";if(l==="timestamp")return p.getTime().toString();/(y+)/i.test(l)&&(b=RegExp.$1,l=l.replace(b,(p.getFullYear()+"").substr(4-b.length))),g&&Array.isArray(g.weeks)||(g=w);var C={"M+":p.getMonth()+1,"d+":p.getDate(),"h+":p.getHours(),"m+":p.getMinutes(),"s+":p.getSeconds(),"w+":p.getDay(),"W+":g.weeks[p.getDay()],"a+":p.getHours()<12?"am":"pm","A+":p.getHours()<12?"AM":"PM"};for(var _ in C)if(new RegExp("("+_+")").test(l)){b=RegExp.$1;var M=C[_]+"";l=l.replace(b,b.length===1?M:x.toTwoDigits(M))}if(/(g)/i.test(l)){var z=p.toString().split(/\s+/).slice(5),Te=l.includes("g");l=l.replace(/g/i,Te?z[0]:z.join(" "))}return l},o.toDate=f}},i={};return function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(607)})()})})(I);function se(t="",r="-"){return t.replace(/[A-Z]/g,(e,i)=>`${i>0?r:""}${e.toLowerCase()}`)}function U(t="",r=!1){const e=t.replace(/[-_\s](\w)/g,(i,n)=>n.toUpperCase());return r?e.replace(/^\w/,i=>i.toUpperCase()):e}function Z(t){return typeof t=="string"?t:t===null||typeof t=="undefined"?"":Array.isArray(t)?t.map(Z).join(" "):typeof t=="object"?Object.keys(t).filter(r=>t[r]).join(" "):String(t)}function le(...t){return t.map(Z).filter(r=>!!r).join(" ")}function v(t,r=0){return Array.prototype.slice.call(t,r)}function F(t={},r=!1){const e=r?U:se,i={};for(const[n,o]of Object.entries(t))i[e(n)]=P(o)?F(o,r):o;return i}function N(t,r=document){return t instanceof HTMLElement?t:r.querySelector(t)}function D(t,r=document){return v(r.querySelectorAll(t))}function u(t,r={},e){const i=document.createElement(t);for(const[n,o]of Object.entries(r))i.setAttribute(n,n==="style"&&P(o)?T(o):o);return e&&(typeof e=="string"?i.innerHTML=e:i.append(e)),i}function T(...t){const r=t.reduce((i,n)=>B(B({},i),F(n)),{}),e=[];for(const[i,n]of Object.entries(r))n===""||typeof n=="undefined"||n===null||e.push(`${i}:${n}`);return e.join(";")}I.exports.formatDate,I.exports.toDate,I.exports.toTwoDigits;function ae(){return window.screen.height===812&&window.screen.width===375}const L=(t,r,e)=>t.replace(RegExp("(^<"+r+")|("+r+">$)","gi"),i=>i.toUpperCase().replace(r,e.toLowerCase())),j=t=>/UL|OL/.test(t.nodeName),S=t=>{if(!t)return!1;const r=v(t.childNodes);return r.length===1&&r[0].nodeName==="BR"},O=(t,r="style")=>t?(t.getAttribute(r)||"").split(/\s?;\s?/).reduce((i,n)=>{const[o,s]=n.split(/\s?:\s?/);return o&&(i[U(o)]=s),i},{}):{},G=t=>document.createTextNode(t),Q=t=>{if(!t)return null;if(typeof t=="string")return G(t);const{tag:r,attrs:e,child:i}=t;if(!r&&!e&&!i)return null;const n=u(r||"div",e);if(Array.isArray(i)&&i.length){let o;i.forEach(s=>{o=Q(s),o&&n.appendChild(o)})}else i&&typeof i=="string"&&n.appendChild(G(i));return n},de=(t,r)=>{t.classList.add(r)},ce=(t,r)=>{t.classList.remove(r)},W="zx-editor",he=34,V=["SECTION","H1","H2","H3","H4","H5","BLOCKQUOTE","UL","OL"],pe=["DIV","P","ARTICLE","ASIDE","DETAILS","SUMMARY","FOOTER","HEADER","MAIN","NAV","SECTION","H1","H2","H3","H4","H5","H6","BLOCKQUOTE"],fe={editable:!0,minHeight:"50vh",placeholder:"\u8BF7\u5728\u6B64\u8F93\u5165\u5185\u5BB9..",placeholderColor:"",lineHeight:1.5,allowedNodeNames:V,caretColor:"",textColor:"",cursorOffsetTop:30,customPasteHandler:void 0},X=`${W}__editor`,A="SECTION",ge="BR",ue=t=>{var i;const r=`.${X}.is-empty:before{content:'${t}' !important;`,e=u("style",{type:"text/css"},r);(i=N("head"))==null||i.append(e)},ye=t=>{const r=Y(m({lineHeight:t.lineHeight,minHeight:t.minHeight,position:"relative",overflowY:"scroll",outline:"none"},t.styles),{"--placeholder-color":t.placeholderColor,"--line-height":t.lineHeight});ue(t.placeholder),t.caretColor&&(r.caretColor=t.caretColor),t.textColor&&(r.color=t.textColor);const e={class:`${X} is-empty`,style:T(r)};t.editable&&(e.contenteditable="true");const i=u("div",e);return i.innerHTML="<section><br></section>",i},q=(t,r=A)=>{var x,w,f,d,l,g,b,p,C;const e=t.nodeName,i=r.toUpperCase();if(e===i)return t;const n=u(r),o=t.parentElement;let s;if(e==="LI"&&j(o)){if(n.innerHTML=L(t.outerHTML,e,i),s=n.firstChild,o.childElementCount>1)if(o.firstElementChild===t)(x=o.parentElement)==null||x.insertBefore(s,o);else if(o.lastElementChild===t){const _=(w=o.parentElement)==null?void 0:w.nextElementSibling;_?(f=_.parentElement)==null||f.insertBefore(s,_):(d=o.parentElement)==null||d.append(s)}else{const _=v(o.children),M=u(o.nodeName);let z=_.shift();for(;z&&z!==t;)M.append(z),z=_.shift();(l=o.parentElement)==null||l.insertBefore(M,o),(g=o.parentElement)==null||g.insertBefore(s,o),o.removeChild(t)}else(b=o.parentElement)==null||b.insertBefore(s,o),(p=o.parentElement)==null||p.removeChild(o);return s}if(pe.includes(e)){if(/UL|OL/.test(i)){const _=t.previousElementSibling,M=t.nextElementSibling;if(_&&j(_)){if(n.innerHTML=L(t.outerHTML,e,"li"),s=n.firstChild,_.append(s),o==null||o.removeChild(t),M&&M.nodeName===_.nodeName){const z=v(M.children);_.append(...z),(C=M.parentElement)==null||C.removeChild(M)}}else M&&j(M)?(n.innerHTML=L(t.outerHTML,e,"li"),s=n.firstChild,M.insertBefore(s,M.firstElementChild),o==null||o.removeChild(t)):(s=n,n.innerHTML=L(t.outerHTML,e,"li"),o==null||o.replaceChild(s,t))}else n.innerHTML=L(t.outerHTML,e,i),s=n.firstChild,o==null||o.replaceChild(s,t);return s}return n.append(t.cloneNode(!0)),o==null||o.replaceChild(n,t),n},_e=t=>{t.children.length<=1&&S(t.children[0])?t.classList.add("is-empty"):t.classList.remove("is-empty")};class Me{constructor(r){a(this,"rootElement");a(this,"timer");a(this,"selection");a(this,"range",new Range);var i;this.rootElement=r,this.timer=null,this.selection=window.getSelection();const e=r.lastElementChild;e&&this.setRange(e,(i=e.textContent)==null?void 0:i.length)}_getLastNode(r){let e=r;for(;e.lastChild;)e=e.lastChild;return e}setRange(r,e){var n,o,s;if(this.selection)this.selection.removeAllRanges();else{this.selection=window.getSelection();try{this.range=(n=this.selection)==null?void 0:n.getRangeAt(0)}catch{this.range=new Range}}let i;r?i=this._getLastNode(r):i=this.range.endContainer,console.log(i),typeof e=="undefined"&&(e=(s=(o=i.textContent)==null?void 0:o.length)!=null?s:0),this.range.setStart(i,e),this.range.collapse(!0),this._clearTimeout(),this.timer=setTimeout(()=>{var x;(x=this.selection)==null||x.addRange(this.range)},100)}_clearTimeout(){this.timer&&(clearTimeout(this.timer),this.timer=null)}getCurrentNode(r=!1){var i;let e=this.range.endContainer;for(;e&&this.rootElement!==e;){if(!r&&e.nodeName==="LI"&&((i=e.parentElement)==null?void 0:i.parentElement)===this.rootElement||e.parentElement===this.rootElement)return e;e=e.parentNode}return this.rootElement.lastElementChild}}var je=(()=>`:root{--placeholder-color: #999;--line-height: 1.5}.zx-editor__editor.is-empty:before{position:absolute;z-index:1;top:0;left:0;pointer-events:none;color:var(--placeholder-color);line-height:var(--line-height);content:""}
`)();class J extends c{constructor(e){super();a(this,"version");a(this,"options");a(this,"$editor");a(this,"cursor");a(this,"_eventHandler");a(this,"allowedNodeNames");this.version="3.1.0",this.options=m(m({},fe),e),this.allowedNodeNames=(this.options.allowedNodeNames||V).map(i=>i.toUpperCase()),this.$editor=ye(this.options),e.container.append(this.$editor),this.cursor=new Me(this.$editor),this._eventHandler=i=>{const n=i.type;n==="blur"&&this._lastLine(),this.emit(n==="input"?"change":n,i),_e(this.$editor),n==="click"&&this.cursor.setRange(i.target)},this._initEvents()}_initEvents(){this.$editor.addEventListener("focus",this._eventHandler),this.$editor.addEventListener("blur",this._eventHandler),this.$editor.addEventListener("input",this._eventHandler),this.$editor.addEventListener("click",this._eventHandler)}use(e,i){typeof e.install=="function"&&e.install(this,i)}setHtml(e){this.$editor.innerHTML="",this.insert(e),this._lastLine()}getHtml(){return this.$editor.innerHTML.replace(/<section><br><\/section>$/,"")}insert(e){if(e instanceof HTMLElement)this._insert(e);else{const i=u("div");i.innerHTML=e,v(i.childNodes).forEach(n=>{n.nodeType===Node.ELEMENT_NODE?n.nodeName===ge?this._insert(u(A,{},"<br/>")):this._insert(n):n.textContent&&this._insert(u(A,{},n.textContent))})}this._dispatchChange()}_insert(e){const i=this.getCurrentNode();i?S(i)?this.$editor.insertBefore(e,i):this.$editor.insertBefore(e,i.nextElementSibling):this.$editor.append(e),this.allowedNodeNames.includes(e.nodeName)||(e=q(e,A)),this.cursor.setRange(e)}_lastLine(){S(this.$editor.lastElementChild)||this.$editor.appendChild(u("section",{},"<br>"))}changeNodeName(e){if(!this.allowedNodeNames.includes(e.toUpperCase()))return!1;const i=this.getCurrentNode();return i&&q(i,e)?(this._dispatchChange(),!0):!1}changeStyles(e,i){const n=this.getCurrentNode(!0);if(n){const o=typeof e=="string"?{[e]:i}:e;n.setAttribute("style",T(O(n),o)),this._dispatchChange()}}_dispatchChange(){this.$editor.dispatchEvent(new InputEvent("input"))}getStyles(){return O(this.getCurrentNode())}getCurrentNode(e=!1){return this.cursor.getCurrentNode(e)}destroy(){this.$editor.removeEventListener("focus",this._eventHandler),this.$editor.removeEventListener("blur",this._eventHandler),this.$editor.removeEventListener("input",this._eventHandler),this.destroyEventEmitter()}}const be=t=>{const r=[];return t.forEach((e,i)=>{/^#\w{3,6}$/.test(e)&&r.push({tag:"dd",attrs:{class:i===0?"active":"","data-color":xe(e.toLowerCase())},child:[{tag:"i",attrs:{style:`background:${e}`}}]})}),r},xe=t=>t.length===7?t:`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}`,me={textStyleTitle:"Set Style",textStyleHeadLeftBtnText:"Clear style"},we=["#333","#d0d0d0","#ff583d","#fdaa25","#44c67b","#14b2e0","#b065e2"],ze={tag:"dl",attrs:{class:"__style-wrapper border-bottom"},child:[{tag:"dd",attrs:{style:"font-weight: 800;","data-style":"fontWeight:800"},child:["B"]},{tag:"dd",attrs:{style:"font-style: italic;","data-style":"fontStyle:italic"},child:["I"]},{tag:"dd",attrs:{style:"text-decoration: line-through;","data-style":"textDecoration:line-through"},child:["abc"]},{tag:"dd",attrs:{style:"","data-style":"textAlign:left",class:"text-align--l"}},{tag:"dd",attrs:{style:"","data-style":"textAlign:center",class:"text-align--c"}},{tag:"dd",attrs:{style:"","data-style":"textAlign:right",class:"text-align--r"}}]},Ee={tag:"dl",attrs:{class:"__tag-wrapper"},child:[{tag:"dd",attrs:{class:"__h2","data-tag":"h2"},child:["\u5927\u6807\u9898",{tag:"i"}]},{tag:"dd",attrs:{class:"__h4","data-tag":"h4"},child:["\u5C0F\u6807\u9898",{tag:"i"}]},{tag:"dd",attrs:{class:"__section active","data-tag":"section"},child:["\u6B63\u6587",{tag:"i"}]},{tag:"dd",attrs:{class:"__blockquote","data-tag":"blockquote"},child:["\u5F15\u7528",{tag:"i"}]},{tag:"dd",attrs:{class:"__ul","data-tag":"ul"},child:["\u65E0\u5E8F\u5217\u8868",{tag:"i"}]}]};var Se=(()=>`@charset "UTF-8";.zx-editor-style-panel{position:fixed;z-index:9999;left:0;bottom:0;width:100%;height:30vh;transform:translateY(100%);overflow:hidden;background:#fff;transition:.3s transform ease-in-out}.zx-editor-style-panel.zx-editor-style-panel__fade-in{transform:translateY(0)}.zx-editor-style-panel__header{position:absolute;top:0;left:0;width:100%;height:44px;box-shadow:0 0 3px #0000001a;display:flex;align-items:center;justify-content:center}.zx-editor-style-panel__header__left{position:absolute;top:0;left:0;padding:0 10px;height:100%;font-size:.8em;color:#999;display:flex;align-items:center}.zx-editor-style-panel__header__switch{position:absolute;top:0;right:0;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer}.zx-editor-style-panel__header__switch:after{display:inline-block;content:"";border-top:6px solid #999;border-left:6px solid transparent;border-right:6px solid transparent}.zx-editor-style-panel__body{position:absolute;top:44px;left:0;bottom:0;width:100%;overflow-x:hidden;overflow-y:auto}.zx-editor-style-panel__body .__style-wrapper{position:relative;display:flex;height:50px}.zx-editor-style-panel__body .__style-wrapper dd{position:relative;flex:1;line-height:50px;text-align:center;font-size:1.5em}.zx-editor-style-panel__body .__style-wrapper dd:after{position:absolute;top:0;right:0;height:50px;content:"";transform:scaleX(.5);border-right:1px solid #ddd}.zx-editor-style-panel__body .__style-wrapper dd:last-child:after{border-right-width:0}.zx-editor-style-panel__body .__style-wrapper dd.text-align--l:before,.zx-editor-style-panel__body .__style-wrapper dd.text-align--c:before,.zx-editor-style-panel__body .__style-wrapper dd.text-align--r:before{display:inline-block;content:"=";line-height:15px;width:20px;height:19px;border-top:2px solid #333;border-bottom:2px solid #333;box-sizing:border-box;overflow:hidden}.zx-editor-style-panel__body .__style-wrapper dd.text-align--l:before{text-indent:-10px}.zx-editor-style-panel__body .__style-wrapper dd.text-align--r:before{text-indent:8px}.zx-editor-style-panel__body .__color-wrapper{display:flex;position:relative;height:50px}.zx-editor-style-panel__body .__color-wrapper dd{flex:1;position:relative;height:50px;display:flex;justify-content:center;align-items:center}.zx-editor-style-panel__body .__color-wrapper dd i{position:relative;display:inline-block;width:32px;height:32px;border-radius:50%}.zx-editor-style-panel__body .__color-wrapper dd i:before,.zx-editor-style-panel__body .__color-wrapper dd i:after{content:"";position:absolute;width:26px;height:26px;border-radius:50%}.zx-editor-style-panel__body .__color-wrapper dd i:before{top:-1px;left:-1px;border:4px solid #fff}.zx-editor-style-panel__body .__color-wrapper dd i:after{top:1px;left:1px;border:2px solid #fff}.zx-editor-style-panel__body .__color-wrapper dd.active i:before{display:none}.zx-editor-style-panel__body .__tag-wrapper{border-top:5px solid #ddd}.zx-editor-style-panel__body .__tag-wrapper dd{position:relative;margin:0 20px;height:50px;line-height:50px;text-align:center}.zx-editor-style-panel__body .__tag-wrapper dd:after{position:absolute;bottom:0;left:0;width:100%;content:"";border-top:1px solid #ddd;transform:scaleY(.5)}.zx-editor-style-panel__body .__tag-wrapper dd:last-child:after{border-top:0}.zx-editor-style-panel__body .__tag-wrapper dd.__h2{font-size:1.2em;font-weight:800!important}.zx-editor-style-panel__body .__tag-wrapper dd.__h4{font-weight:800!important}.zx-editor-style-panel__body .__tag-wrapper dd.__blockquote:before{display:inline-block;vertical-align:top;margin:8px 4px 0 0;font-size:2em;content:'"'}.zx-editor-style-panel__body .__tag-wrapper dd.__ul:before{display:inline-block;vertical-align:top;margin-right:4px;font-size:1.5em;content:"\\b7"}.zx-editor-style-panel__body .__tag-wrapper dd i{display:none;position:absolute;z-index:1;top:18px;right:30px;width:14px;height:8px;transform:rotate(-45deg);border-left:2px solid #00c1b7;border-bottom:2px solid #00c1b7}.zx-editor-style-panel__body .__tag-wrapper dd.active i{display:inline-block}
`)();const E="zx-editor-style-panel",$=`${E}__fade-in`;class K{constructor(r){a(this,"editorInstance",null);a(this,"$el");a(this,"_headerSwitchHandler");a(this,"$elMap");a(this,"_styleHandler");a(this,"_colorHandler");a(this,"_tagHandler");const e=m(m({},me),r);this.$el=u("div",{class:`${E} border-top`});const i=u("div",{class:`${E}__header`},e.textStyleTitle),n=u("div",{class:`${E}__header__left`},e.textStyleHeadLeftBtnText),o=u("div",{class:`${E}__header__switch`});i.append(n,o);const s=[ze],x=Array.isArray(e.textStyleColors)?e.textStyleColors:we;if(x.length){const f={tag:"dl",attrs:{class:"__color-wrapper border-bottom"},child:be(x)};s.push(f)}s.push(Ee);const w=Q({tag:"div",attrs:{class:`${E}__body`},child:s});this.$el.append(i,w),this.$elMap=new Map([["headerSwitch",o]]),this._headerSwitchHandler=()=>{this.$el.classList.contains($)?this.hide():this.show()},this._styleHandler=f=>{const d=this.editorInstance,l=f.currentTarget,g=O(l,"data-style"),b=d.getStyles();Object.keys(g).forEach(p=>{b[p]&&(g[p]="")}),d.changeStyles(g)},this._colorHandler=f=>{const d=f.currentTarget;if(d.classList.contains("active"))return;N(".active",d.parentElement).classList.remove("active"),d.classList.add("active");const l=this.editorInstance,g=d.getAttribute("data-color");l.changeStyles({color:g})},this._tagHandler=f=>{const d=f.currentTarget;if(d.classList.contains("active"))return;N(".active",d.parentElement).classList.remove("active"),d.classList.add("active");const l=this.editorInstance,g=d.getAttribute("data-tag");l.changeNodeName(g)},o.addEventListener("click",this._headerSwitchHandler),D(".__style-wrapper dd",w).forEach(f=>{f.addEventListener("click",this._styleHandler)}),D(".__color-wrapper dd",w).forEach(f=>{f.addEventListener("click",this._colorHandler)}),D(".__tag-wrapper dd",w).forEach(f=>{f.addEventListener("click",this._tagHandler)})}install(r,e){this.editorInstance=r,e&&e.append(this.$el)}show(){this.$el.classList.add($)}hide(){this.$el.classList.remove($)}destroy(){var r;(r=this.$elMap.get("headerSwitch"))==null||r.removeEventListener("click",this._headerSwitchHandler)}}var Oe=(()=>`.zx-editor-toolbar{position:fixed;z-index:999;left:0;bottom:0;width:100%;background-color:#fff;height:250px;transform:translateY(-100%);opacity:0}.zx-editor-toolbar .inner-wrapper{position:absolute;top:0;left:0;width:100%;height:50px;overflow-y:hidden;overflow-x:auto;white-space:nowrap}.zx-editor-toolbar .inner-wrapper .icon-item{position:relative;display:inline-block;width:50px;height:50px;cursor:pointer;vertical-align:top}.zx-editor-toolbar .inner-wrapper .toolbar-icon-pic{background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07aGVpZ2h0OiAxZW07dmVydGljYWwtYWxpZ246IG1pZGRsZTtmaWxsOiBjdXJyZW50Q29sb3I7b3ZlcmZsb3c6IGhpZGRlbjsiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIxMTgyIj48cGF0aCBkPSJNNjQwLjQ2OTMzMyA4NS4zMzMzMzNhNjQgNjQgMCAwIDEgNTguODE2IDM4Ljc4NEw3MjguMzg0IDE5Mkg4MzJhMTI4IDEyOCAwIDAgMSAxMjggMTI4djQ5MC42NjY2NjdhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDE5MmExMjggMTI4IDAgMCAxLTEyOC0xMjhWMzIwYTEyOCAxMjggMCAwIDEgMTI4LTEyOGgxMDMuNjE2bDI5LjA5ODY2Ny02Ny44ODI2NjdBNjQgNjQgMCAwIDEgMzgzLjUzMDY2NyA4NS4zMzMzMzNoMjU2LjkzODY2NnogbTAgNjRIMzgzLjUzMDY2N2wtNDUuNzE3MzM0IDEwNi42NjY2NjdIMTkyYTY0IDY0IDAgMCAwLTYzLjg5MzMzMyA2MC4yNDUzMzNMMTI4IDMyMHY0OTAuNjY2NjY3YTY0IDY0IDAgMCAwIDYwLjI0NTMzMyA2My44OTMzMzNMMTkyIDg3NC42NjY2NjdoNjQwYTY0IDY0IDAgMCAwIDYzLjg5MzMzMy02MC4yNDUzMzRMODk2IDgxMC42NjY2NjdWMzIwYTY0IDY0IDAgMCAwLTYwLjI0NTMzMy02My44OTMzMzNMODMyIDI1NmgtMTQ1LjgxMzMzM2wtNDUuNzE3MzM0LTEwNi42NjY2Njd6TTUxMiAzNDEuMzMzMzMzYzExNy44MjQgMCAyMTMuMzMzMzMzIDk1LjUwOTMzMyAyMTMuMzMzMzMzIDIxMy4zMzMzMzRzLTk1LjUwOTMzMyAyMTMuMzMzMzMzLTIxMy4zMzMzMzMgMjEzLjMzMzMzMy0yMTMuMzMzMzMzLTk1LjUwOTMzMy0yMTMuMzMzMzMzLTIxMy4zMzMzMzMgOTUuNTA5MzMzLTIxMy4zMzMzMzMgMjEzLjMzMzMzMy0yMTMuMzMzMzM0eiBtMCA2NGExNDkuMzMzMzMzIDE0OS4zMzMzMzMgMCAxIDAgMCAyOTguNjY2NjY3IDE0OS4zMzMzMzMgMTQ5LjMzMzMzMyAwIDAgMCAwLTI5OC42NjY2Njd6IG0yODgtODUuMzMzMzMzYTMyIDMyIDAgMSAxIDAgNjQgMzIgMzIgMCAwIDEgMC02NHoiIGZpbGw9ImN1cnJlbnRDb2xvciIgcC1pZD0iMTE4MyI+PC9wYXRoPjwvc3ZnPgo=) no-repeat center center}.zx-editor-toolbar .inner-wrapper .toolbar-icon-pic,.zx-editor-toolbar .inner-wrapper .text-style-btn{background-size:25px 25px}.zx-editor-toolbar.__fade-in{transform:translateY(0);opacity:1}
`)();const ve={toolbarBeenFixed:!0,toolbarHeight:50,toolbarButtons:["select-picture","text-style"]};class ee{constructor(r){a(this,"editorInstance",null);a(this,"visible");a(this,"options");a(this,"height");a(this,"$el");this.options=m(m({},ve),r),this.visible=this.options.toolbarBeenFixed,this.height=this.options.toolbarHeight,this.$el=u("div",{class:"zx-editor-toolbar border-top",style:T({height:`${this.height+(ae()?he:0)}px`})},`<dl class="inner-wrapper" style="height:${this.height}px;"></dl>`)}install(r,e){this.editorInstance=r,e&&e.append(this.$el),this.visible&&this.show()}show(){de(this.$el,"__fade-in"),this.visible=!0,this.editorInstance.emit("toolbarShow",!0,this)}hide(){ce(this.$el,"__fade-in"),this.visible=!1,this.editorInstance.emit("toolbarShow",!1,this)}addButton(r,e){r.name||(r.name="toolbar-btn-"+ +new Date);const i=m({},r.style);this.options.toolbarHeight&&(i.width=i.height=this.options.toolbarHeight+"px");const n=u("dd",{class:le("icon-item",r.className),dataName:r.name,style:T(i)},r.el),o=D("dl > dd",this.$el),s=N("dl",this.$el);typeof e=="number"&&e<o.length?s.insertBefore(n,o[e]):s.append(n),r.events}}var $e=(()=>`.zx-editor *{margin:0;padding:0;word-wrap:break-word;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.zx-editor .border-bottom:after{position:absolute;bottom:0;left:0;width:100%;content:"";transform:scaleY(.5);border-bottom:1px solid #ddd}.zx-editor .border-top:before{position:absolute;top:0;left:0;width:100%;content:"";transform:scaleY(.5);border-top:1px solid #ddd}
`)();class Ne extends J{constructor(e,i={}){if((typeof e=="string"||e instanceof HTMLElement)&&(i.container=N(e)),!i.container)throw new Error(`Can't found '${e}' Node in document!`);const n=i.container,o=u("div",{class:W});super(Y(m({},i),{container:o}));a(this,"$el");a(this,"stylePanel");a(this,"toolbar");n.append(o),this.$el=o,this.stylePanel=new K(i),this.use(this.stylePanel,this.$el),this.toolbar=new ee(i),this.use(this.toolbar,this.$el),this.stylePanel.show()}destroy(){super.destroy(),this.stylePanel.destroy()}}h.Editor=J,h.StylePanel=K,h.Toolbar=ee,h.ZxEditor=Ne,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
