const gulp=require("gulp"),htmlmin=require("gulp-htmlmin"),uglify=require("gulp-uglify"),cleanCss=require("gulp-clean-css"),replace=require("gulp-replace"),htmlMinOptions={removeComments:!0,collapseWhitespace:!0,collapseBooleanAttributes:!0,removeEmptyAttributes:!0,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,minifyJS:!0,minifyCSS:!0};function html1(){return gulp.src("./_book/*.html").pipe(htmlmin(htmlMinOptions)).pipe(replace(/ all right reserved&#xFF0C;powered by Gitbook/gi,".")).pipe(gulp.dest("./_book"))}function html2(){return gulp.src("./_book/pages/**/*.html").pipe(htmlmin(htmlMinOptions)).pipe(replace(/ all right reserved&#xFF0C;powered by Gitbook/gi,".")).pipe(gulp.dest("./_book/pages"))}function css(){return gulp.src(["./_book/**/**/*.css"]).pipe(cleanCss()).pipe(gulp.dest("./_book"))}function js(){return gulp.src(["./_book/**/**/*.js"]).pipe(uglify()).pipe(gulp.dest("./_book"))}gulp.task("default",gulp.series(html1,html2,css,js));